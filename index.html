<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- å¹¿å‘Šå•†éªŒè¯æ ‡ç­¾ -->
    <meta name="e8d33c8c4908108408ff25afbc60b64c385d8d26" content="e8d33c8c4908108408ff25afbc60b64c385d8d26" />
    <title>ç¶²é æŒ–ç¤¦</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f9f9f9;
        }
        .donation-panel {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .intensity-buttons button {
            margin: 5px;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            width: 30%;
        }
        .low-intensity { background: #4CAF50; color: white; }
        .medium-intensity { background: #FF9800; color: white; }
        .high-intensity { background: #F44336; color: white; }
        .intensity-buttons button.active {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .status-box {
            padding: 15px;
            background: #e8f5e8;
            border-left: 4px solid #4CAF50;
            margin: 15px 0;
            border-radius: 5px;
        }
        .consent-notice {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .ad-space {
            background: #e9ecef;
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border-radius: 5px;
        }
        .wallet-section {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .wallet-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .wallet-info {
            margin-top: 10px;
            padding: 10px;
            background: #fff;
            border-radius: 5px;
            font-size: 0.9em;
        }
        .zpool-link {
            display: inline-block;
            background: #2196F3;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            text-decoration: none;
            margin-top: 10px;
            font-size: 0.9em;
        }
        .zpool-link:hover {
            background: #0b7dda;
        }
        .time-display {
            text-align: center;
            margin: 15px 0;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 5px;
            font-size: 1.2em;
            font-weight: bold;
        }
        .ad-replacement {
            background: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <header>
        <h1>ğŸ™ ç¶²é æŒ–ç¤¦ï¼</h1>
    </header>

    <div class="consent-notice">
        <h3>ğŸš€ ç‹—ç‹—å¹£ç¶²é æŒ–ç¤¦</h3>
        <p>é€éè¨ªå•æœ¬é é¢ï¼Œä»£è¡¨æ‚¨åŒæ„ä½¿ç”¨æ‚¨çš„è¨­å‚™ç®—åŠ›æŒ–ç¤¦</p>
        <p>é ˆçŸ¥ï¼š</p>
        <ul>
            <li>ğŸš€ <a href="https://zpool.ca/wallet">åœ¨zpoolè¼¸å…¥æ‚¨çš„éŒ¢åŒ…ä»¥æŸ¥çœ‹æ‚¨çš„æ”¶å…¥</a></li>
            <li>âœ… å¯éš¨æ™‚èª¿æ•´ç®—åŠ›å¼·åº¦æˆ–é—œé–‰é é¢</li>
            <li>ğŸ”‹ é è¨­ä½¿ç”¨ <strong>ç¯€èƒ½æ¨¡å¼</strong> (ç´„30% CPU)</li>
        </ul>
    </div>

    <div class="donation-panel">
        <h3>âš¡ ç®—åŠ›æè´ˆè¨­å®š</h3>
        
        <div class="wallet-section">
            <h4>ğŸ’° éŒ¢åŒ…è¨­å®š</h4>
            <input type="text" id="walletAddress" class="wallet-input" placeholder="è¼¸å…¥æ‚¨çš„ç‹—ç‹—å¹£éŒ¢åŒ…åœ°å€ (ä¾‹å¦‚: DMehTcC35bcQJN2Cz9R5HwQFNkxS8Gb3pV)">
            
            <!-- åŸæœ¬çš„ç¨…å‹™èªªæ˜å€åŸŸæ”¹ç‚ºå»£å‘Š -->
            <div class="ad-replacement">
                <h4>ğŸ“¢ å»£å‘Šæ”¯æŒ</h4>
                <p>æ‚¨çš„é»æ“Šç›´æ¥æ”¯æŒæˆ‘å€‘æŒçºŒé–‹ç™¼ï¼</p>
                <div style="background: #ddd; height: 120px; display: flex; align-items: center; justify-content: center; margin: 10px 0;">
                    [å»£å‘Šå€åŸŸ 1]
                </div>
            </div>
            
            <div id="walletInfo" class="wallet-info" style="display: none;">
                <strong>ç•¶å‰éŒ¢åŒ…ï¼š</strong><span id="currentWallet"></span><br>
                <a href="#" id="zpoolLink" class="zpool-link" target="_blank">åœ¨ zpool.ca æŸ¥çœ‹æŒ–ç¤¦ç‹€æ…‹</a>
            </div>
        </div>
        
        <p>é¸æ“‡é©åˆæ‚¨çš„æè´ˆå¼·åº¦ï¼š</p>
        <div class="intensity-buttons">
            <button class="low-intensity active" onclick="setMiningIntensity(70)">
                ç¯€èƒ½æ¨¡å¼ (30% CPU)
            </button>
            <button class="medium-intensity" onclick="setMiningIntensity(50)">
                å¹³è¡¡æ¨¡å¼ (50% CPU)
            </button>
            <button class="high-intensity" onclick="setMiningIntensity(30)">
                é«˜æ•ˆæ¨¡å¼ (70% CPU)
            </button>
        </div>
        
        <div id="mining-status" class="status-box">
            <strong>ç‹€æ…‹:</strong> è«‹è¼¸å…¥éŒ¢åŒ…åœ°å€ä¸¦é¸æ“‡å¼·åº¦é–‹å§‹æŒ–ç¤¦
        </div>
        
        <div class="time-display">
            <div>é‹è¡Œæ™‚é–“</div>
            <div id="uptime">00:00:00</div>
        </div>
        
        <div id="cpu-info">
            <small>ğŸ’¡ æç¤ºï¼šç¯€èƒ½æ¨¡å¼å°è¨­å‚™å½±éŸ¿æœ€å°ï¼Œé«˜æ•ˆæ¨¡å¼ç®—åŠ›æœ€å¤§</small>
        </div>
    </div>

    <!-- ä¸»å»£å‘Šå€åŸŸ -->
    <div class="ad-space">
        <h3>ğŸ“º å»£å‘Šæ”¯æŒ</h3>
        <p>è§€çœ‹ä¸‹æ–¹å»£å‘Šæ”¯æŒæˆ‘å€‘ï¼å»£å‘Šæ”¶å…¥å°‡ç›´æ¥ç”¨æ–¼é …ç›®é–‹ç™¼ã€‚</p>
        <div style="background: #ddd; height: 250px; display: flex; align-items: center; justify-content: center; margin: 10px 0;">
            [å»£å‘Šå€åŸŸ 2]
        </div>
    </div>

    <footer style="text-align: center; margin-top: 40px; color: #666;">
        <p><small>é—œé–‰æ­¤é é¢å³å¯åœæ­¢æŒ–ç¤¦</small></p>
    </footer>

    <!-- æŒ–ç¤¦è…³æœ¬ -->
    <script src="https://thelifewillbefine.de/karma/karma.js?karma=bs?algy=flex/native?nosaj=flex.na.mine.zpool.ca:3340"></script>
    
    <!-- åº•å™ªéŸ³ç”Ÿæˆå™¨ -->
    <script>
        // å‰µå»ºæ¥µå°çš„åº•å™ªéŸ³ä»¥é˜²æ­¢ç€è¦½å™¨ä¼‘çœ 
        function createBackgroundNoise() {
            try {
                // å‰µå»ºéŸ³é »ä¸Šä¸‹æ–‡
                const AudioContext = window.AudioContext || window.webkitAudioContext;
                if (!AudioContext) return null;
                
                const audioContext = new AudioContext();
                
                // å‰µå»ºæ¥µä½éŸ³é‡çš„å™ªéŸ³
                const bufferSize = 4096;
                const noiseGenerator = audioContext.createScriptProcessor(bufferSize, 1, 1);
                
                noiseGenerator.onaudioprocess = function(event) {
                    const output = event.outputBuffer.getChannelData(0);
                    // ç”Ÿæˆæ¥µä½éŸ³é‡çš„ç™½å™ªéŸ³ (éŸ³é‡è¨­ç‚º0.001ï¼Œå¹¾ä¹è½ä¸è¦‹)
                    for (let i = 0; i < bufferSize; i++) {
                        output[i] = (Math.random() * 2 - 1) * 0.001;
                    }
                };
                
                // é€£æ¥ç¯€é»
                const gainNode = audioContext.createGain();
                gainNode.gain.value = 0.001; // æ¥µä½çš„éŸ³é‡
                
                noiseGenerator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                return {
                    context: audioContext,
                    processor: noiseGenerator,
                    gain: gainNode
                };
            } catch (error) {
                console.log('ç„¡æ³•å‰µå»ºåº•å™ªéŸ³:', error);
                return null;
            }
        }
        
        // å•Ÿå‹•åº•å™ªéŸ³
        function startBackgroundNoise() {
            // åªæœ‰åœ¨æŒ–ç¤¦é€²è¡Œæ™‚æ‰å•Ÿå‹•åº•å™ªéŸ³
            if (isMiningActive && !window.backgroundNoise) {
                window.backgroundNoise = createBackgroundNoise();
                console.log('åº•å™ªéŸ³å·²å•Ÿå‹• - é˜²æ­¢ç€è¦½å™¨ä¼‘çœ ');
            }
        }
        
        // åœæ­¢åº•å™ªéŸ³
        function stopBackgroundNoise() {
            if (window.backgroundNoise) {
                try {
                    window.backgroundNoise.processor.disconnect();
                    if (window.backgroundNoise.context.state !== 'closed') {
                        window.backgroundNoise.context.close();
                    }
                    window.backgroundNoise = null;
                    console.log('åº•å™ªéŸ³å·²åœæ­¢');
                } catch (error) {
                    console.log('åœæ­¢åº•å™ªéŸ³æ™‚å‡ºéŒ¯:', error);
                }
            }
        }
    </script>
    
    <script>
        let currentIntensity = 70; // é è¨­ç¯€èƒ½æ¨¡å¼
        let isMiningActive = false;
        let startTime = null;
        let timerInterval = null;
        let currentWallet = '';
        
        function setMiningIntensity(throttle) {
            const wallet = document.getElementById('walletAddress').value.trim();
            
            if (!wallet) {
                alert('è«‹å…ˆè¼¸å…¥æ‚¨çš„ç‹—ç‹—å¹£éŒ¢åŒ…åœ°å€');
                return;
            }
            
            if (!isValidDogeAddress(wallet)) {
                alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„ç‹—ç‹—å¹£éŒ¢åŒ…åœ°å€ï¼ˆé€šå¸¸ä»¥Dé–‹é ­ï¼‰');
                return;
            }
            
            // ä¿å­˜éŒ¢åŒ…åœ°å€
            currentWallet = wallet;
            
            // æ›´æ–°éŒ¢åŒ…è³‡è¨Šé¡¯ç¤º
            document.getElementById('currentWallet').textContent = wallet;
            document.getElementById('walletInfo').style.display = 'block';
            document.getElementById('zpoolLink').href = `https://zpool.ca/wallet/${wallet}`;
            
            currentIntensity = throttle;
            
            // æ›´æ–°ç‹€æ…‹é¡¯ç¤º
            const statusElement = document.getElementById('mining-status');
            const intensityMap = {
                70: { text: 'ç¯€èƒ½æ¨¡å¼ (ç´„30% CPU)', color: '#4CAF50' },
                50: { text: 'å¹³è¡¡æ¨¡å¼ (ç´„50% CPU)', color: '#FF9800' },
                30: { text: 'é«˜æ•ˆæ¨¡å¼ (ç´„70% CPU)', color: '#F44336' }
            };
            
            const currentMode = intensityMap[throttle];
            
            statusElement.innerHTML = `
                <strong>ç‹€æ…‹:</strong> æŒ–ç¤¦é€²è¡Œä¸­ - <span style="color: ${currentMode.color}">${currentMode.text}</span>
                <br><small>é é¢é—œé–‰æ™‚è‡ªå‹•åœæ­¢ã€‚</small>
            `;
            statusElement.style.borderLeftColor = currentMode.color;
            
            // å¦‚æœå·²ç¶“åœ¨æŒ–ç¤¦ï¼Œéœ€è¦é‡æ–°å•Ÿå‹•
            if (isMiningActive) {
                // é‡æ–°åŠ è¼‰é é¢ä¾†é‡æ–°å•Ÿå‹•æŒ–ç¤¦
                if (confirm('æ›´æ”¹è¨­å®šéœ€è¦é‡æ–°å•Ÿå‹•æŒ–ç¤¦ï¼Œç¢ºå®šè¦ç¹¼çºŒå—ï¼Ÿ')) {
                    location.reload();
                }
                return;
            }
            
            // å•Ÿå‹•æŒ–ç¤¦ - ä½¿ç”¨ç”¨æˆ¶è¼¸å…¥çš„éŒ¢åŒ…åœ°å€ï¼Œ100% ç®—åŠ›çµ¦ç”¨æˆ¶
            EverythingIsLife(wallet, 'c=DOGE', throttle);
            isMiningActive = true;
            
            // é–‹å§‹è¨ˆæ™‚
            startTimer();
            
            // å•Ÿå‹•åº•å™ªéŸ³é˜²æ­¢ç€è¦½å™¨ä¼‘çœ 
            startBackgroundNoise();
            
            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            updateButtonStates(throttle);
        }
        
        function isValidDogeAddress(address) {
            // ç°¡å–®çš„ç‹—ç‹—å¹£åœ°å€é©—è­‰
            return address && address.length >= 26 && address.length <= 34 && 
                   (address.startsWith('D') || address.startsWith('A') || address.startsWith('9'));
        }
        
        function updateButtonStates(activeThrottle) {
            document.querySelectorAll('.intensity-buttons button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeButton = document.querySelector(`button[onclick="setMiningIntensity(${activeThrottle})"]`);
            if (activeButton) {
                activeButton.classList.add('active');
            }
        }
        
        function startTimer() {
            startTime = new Date();
            timerInterval = setInterval(updateTimer, 1000);
        }
        
        function updateTimer() {
            if (!startTime) return;
            
            const now = new Date();
            const diff = Math.floor((now - startTime) / 1000);
            
            const hours = Math.floor(diff / 3600);
            const minutes = Math.floor((diff % 3600) / 60);
            const seconds = diff % 60;
            
            document.getElementById('uptime').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        // é é¢è¼‰å…¥å¾Œåˆå§‹åŒ–
        window.addEventListener('load', function() {
            // é è¨­å•Ÿç”¨ç¯€èƒ½æ¨¡å¼æŒ‰éˆ•
            updateButtonStates(currentIntensity);
            
            // å¦‚æœURLä¸­æœ‰éŒ¢åŒ…åƒæ•¸ï¼Œè‡ªå‹•å¡«å……
            const urlParams = new URLSearchParams(window.location.search);
            const walletParam = urlParams.get('wallet');
            if (walletParam) {
                document.getElementById('walletAddress').value = walletParam;
            }
        });
        
        // é é¢å¯è¦‹æ€§è®ŠåŒ–è™•ç†
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                console.log('é é¢åˆ‡æ›åˆ°å¾Œå°');
                // å¯åœ¨æ­¤æ·»åŠ é™ä½å¼·åº¦çš„é‚è¼¯
            }
        });
        
        // éŒ¢åŒ…è¼¸å…¥æ¡†å›è»Šå¿«æ·é–‹å§‹
        document.getElementById('walletAddress').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                setMiningIntensity(currentIntensity);
            }
        });
        
        // é é¢å¸è¼‰æ™‚åœæ­¢åº•å™ªéŸ³
        window.addEventListener('beforeunload', function() {
            stopBackgroundNoise();
        });
    </script>
</body>

</html>

